# 易经占卜网站

一个现代化的易经六十四卦占卜静态网站，融合传统文化与现代设计。

## 项目特色

- ✨ 传统六爻占卜法（真实铜钱图片）
- 🎯 **预设占卜问题（快速开始）**
  - 6大常见占卜主题
  - 一键选择或自定义输入
  - 适合新手快速上手
- 🍎 **Apple风格神秘UI设计**
  - **极简黑色**：纯黑 `#000` + 动态彩虹渐变光晕
  - **毛玻璃效果**：40px模糊 + 180%饱和度增强
  - **Apple配色**：琥珀橙/紫/粉/青四色渐变系统
  - **20px圆角**：统一的设计语言
  - **流畅动画**：0.25s三次贝塞尔曲线过渡
  - **系统字体**：SF Pro Display字体栈
  - **真实铜钱SVG**：110px + 3D翻转 + 脉冲发光
  - **精致阴影**：多层次柔和阴影
  - **响应式完美**：移动端/桌面端无缝适配
- 🕯️ **强化仪式感体验**
  - 占卜前的静心准备阶段
  - 每一爻的专属引导语
  - 流畅的场景过渡动画
  - 铜钱翻转与闪光特效
- 📚 完整的64卦数据库
- 💾 本地存储占卜历史
- 🤖 AI智能分析（模拟）
- 📱 完全响应式设计
- 🚀 纯静态网站，无需后端

## 技术栈

- **HTML5** - 网页结构
- **CSS3** - 样式与动画
- **JavaScript** - 交互逻辑
- **LocalStorage** - 本地数据存储

## 文件结构

```
yijin1.0/
├── index.html           # 首页
├── zhanbu.html          # 占卜页面
├── shoucang.html        # 收藏页面
├── fenxiang.html        # 分享页面
├── styles.css           # 全局样式
├── hexagram-data.js     # 卦象数据
├── divination.js        # 占卜逻辑
├── collection.js        # 收藏管理
├── share.js             # 分享功能
├── zhanbu.md           # 项目规范
├── ruler.md            # 开发规则
└── README.md           # 项目说明
```

## 功能说明

### 1. 占卜功能
- 虚拟投币法起卦（三枚铜钱，投掷六次）
- 自动生成本卦和变卦
- 显示卦名、卦辞、爻辞
- 投币动画效果

### 2. 卦象规则
- **正面（字）** = 2分
- **反面（背）** = 3分
- **总和6** = 老阴（变爻）⚋⚋
- **总和7** = 少阳（不变）⚊
- **总和8** = 少阴（不变）⚋⚋
- **总和9** = 老阳（变爻）⚊

### 3. 收藏功能
- 保存占卜结果到本地
- 查看历史占卜记录
- 删除单条或清空全部
- 最多保存50条记录

### 4. 分享功能
- 复制分享链接
- 保存为图片（演示）
- 生成分享卡片

## 使用方法

1. **占卜准备（仪式感开场）**
   - 打开 `index.html` 页面
   - 进入占卜页面，阅读准备指引
   - 🕯️ 静心凝神，排除杂念
   - 🙏 在心中虔诚默念问题
   - ✨ 保持恭敬之心
   - 点击"我已准备好"

2. **记录问题**
   - 输入您的占卜问题（可选）
   - 问题应明确具体，避免模糊笼统
   - 点击"开始起卦"进入投币阶段

3. **投掷铜钱（六爻生成）**
   - 每一爻都有专属的引导语
   - 点击"投掷铜钱"按钮
   - 观看铜钱上升、翻转、闪光的动画
   - 查看生成的爻象（阳爻⚊、阴爻⚋⚋）
   - 重复6次，从初爻到上爻

4. **查看结果**
   - 卦象生成后自动跳转
   - 查看本卦和变卦（如有变爻）
   - 阅读卦辞、爻辞解释
   - 获取AI智能分析

5. **保存与分享**
   - 点击"保存结果"收藏占卜
   - 前往"收藏"页面查看历史
   - 使用"分享"功能传播结果

## 部署方式

### 方式一：直接打开
双击 `index.html` 文件即可在浏览器中运行

### 方式二：本地服务器
```bash
# 使用Python
python -m http.server 8000

# 使用Node.js (需安装http-server)
npx http-server

# 使用PHP
php -S localhost:8000
```

然后访问 `http://localhost:8000`

### 方式三：部署到静态网站托管
可以部署到以下平台：
- GitHub Pages
- Netlify
- Vercel
- Cloudflare Pages

## 浏览器兼容性

- ✅ Chrome / Edge (推荐)
- ✅ Firefox
- ✅ Safari
- ✅ Opera
- ⚠️ IE11及以下不支持

## 开发说明

### 自定义卦象数据
编辑 `hexagram-data.js` 文件中的 `HEXAGRAM_DATA` 对象，可以修改卦名、卦辞、解释等内容。

### 修改样式主题
在 `styles.css` 文件顶部的 `:root` 选择器中修改CSS变量：
```css
:root {
    --primary-color: #d4af37;      /* 主色调 */
    --secondary-color: #8b7355;    /* 辅助色 */
    --dark-bg: #1a1a2e;            /* 背景色 */
    --accent-gold: #ffd700;         /* 强调金色 */
}
```

### 添加AI分析功能
在 `divination.js` 的 `getAIAnalysis` 函数中集成真实的AI API：
```javascript
async function getAIAnalysis() {
    // 调用AI API
    const response = await fetch('YOUR_AI_API_ENDPOINT', {
        method: 'POST',
        body: JSON.stringify({ hexagram, question })
    });
    // 处理响应
}
```

## 注意事项

1. 本项目为纯前端静态网站
2. 数据存储在浏览器LocalStorage中
3. 清除浏览器数据会丢失收藏记录
4. AI分析功能为模拟演示
5. 占卜结果仅供娱乐参考

## 易经知识

易经是中国古代哲学经典，通过八卦和六十四卦来解释宇宙万物的变化规律。占卜不是预测未来，而是通过象征系统来反思当下、启发思考。

### 八卦符号
- ☰ 乾（天）
- ☷ 坤（地）
- ☲ 离（火）
- ☵ 坎（水）
- ☳ 震（雷）
- ☴ 巽（风）
- ☶ 艮（山）
- ☱ 兑（泽）

## 仪式感设计详解

### 三阶段占卜流程

1. **准备阶段（静心）**
   - 太极图标缓慢旋转，营造神秘氛围
   - 三条准备提示，引导用户进入状态
   - 渐变过渡效果，避免生硬跳转

2. **起卦阶段（投币）**
   - 每一爻都有专属的引导语和含义说明
   - 初爻："万物始生" → 上爻："卦象将成"
   - 铜钱动画三段式：上升 → 翻转 → 闪光
   - 进度条实时显示，完成时发光效果
   - 投掷按钮禁用控制，防止误操作

3. **结果阶段（解读）**
   - 平滑淡入淡出过渡
   - 卦象逐行显示动画
   - 变爻闪烁提示，强调重要性

### 视觉增强元素

- 🌟 **发光效果**：变爻、进度条、铜钱结果
- 🎭 **动画效果**：翻转、上升、闪光、渐变
- 🎨 **色彩系统**：金色（阳爻）、蓝色（阴爻）、深色背景
- 📏 **视觉层级**：通过字体大小、颜色深浅区分信息重要性

## 更新日志

### v3.7.0 (2024-11-18) 🔒 配置文件安全管理
- 🔐 **API Key配置化**
  - 创建 `config.js` 配置文件系统
  - API Key从代码移至配置文件
  - 添加 `.gitignore` 防止敏感信息泄露
  - 提供 `config.example.js` 配置模板
- ⚙️ **配置项统一管理**
  - DeepSeek API配置（Key/URL/Model）
  - 网站配置（名称/版本/最大记录数）
  - AI参数配置（温度/Token数/流式）
- 📝 **完整使用文档**
  - README_CONFIG.md 详细配置说明
  - 安全提示和最佳实践
  - 生产环境部署方案
  - 故障排除指南
- ✅ **配置验证机制**
  - 运行时检查配置是否加载
  - API Key有效性验证
  - 友好的错误提示

### v3.6.0 (2024-11-18) 🎨 UI对齐与Emoji美化
- 🔧 **首页布局修复**
  - 修复封面容器对齐问题
  - 移除负边距，实现与导航栏完美对齐
  - 高度调整为 calc(100vh - 80px)
- 😊 **全站Emoji美化系统**
  - **导航栏**：🏠首页 🔮占卜 ⭐收藏 📤分享
  - **占卜页**：🎴标题 ✨心诚则灵 🕯️🙏准备步骤
  - **预设问题**：💕感情 💼事业 💰财运 🔮化解 👥关系 ⏰运势
  - **占卜过程**：🎲投掷 🪙铜钱 📿问题引导
  - **结果展示**：🎯结果 📜卦辞 📿爻辞 🤖AI分析
  - **操作按钮**：✅准备 🎯起卦 💾保存 🔄重新 🗑️清空
- 🎯 **视觉一致性**
  - 所有页面统一emoji风格
  - 增强UI可读性和趣味性
  - 符合现代扁平化设计趋势

### v3.5.0 (2024-11-18) 🎨 全站背景视觉升级
- 🌈 **全站背景渐变系统**
  - **body底色**：135度三色渐变 (#0f1419→#1a1f2e→#0d1117)
  - **6层星云光晕**：紫/蓝/粉/橙/青/深蓝
  - **45秒极光漂移**：缩放1→1.1 + 旋转6度
  - 告别纯黑#000，拥抱深邃渐变
- ✨ **彩色星空系统**
  - **27颗彩色星星**：橙/紫/青/粉/白 五色混合
  - 大星(6颗) + 中星(5颗) + 小星(16颗)
  - 10秒闪烁动画 + 150秒漂移
  - 整体透明度提升至0.5（更明亮）
- 💫 **标题动效增强**
  - 4色渐变（橙→紫→粉→青）
  - 12秒闪烁流动动画
  - 300%超大背景尺寸
  - 更强的发光阴影
- 🔘 **按钮视觉优化**
  - 橙紫双色渐变
  - Hover亮度提升
  - 三层发光阴影
  - 流光扫过效果

### v3.4.0 (2024-11-18) 🤖 DeepSeek AI 智能分析
- 🧠 **真实AI分析集成**
  - DeepSeek API对话接口
  - 模型：deepseek-chat
  - Temperature: 0.8 (创造性回答)
  - Max Tokens: 1000
- 📝 **智能提示词设计**
  - System提示：定义AI为易经大师
  - 分析风格：专业+亲切+哲理
  - 输出长度：300-500字
  - 结合问题+本卦+变卦+变爻
- ⚡ **加载体验优化**
  - 旋转加载动画
  - 实时显示分析状态
  - 错误处理+备用分析
  - 重试机制
- 🎨 **AI结果美化**
  - DeepSeek徽章
  - 段落智能格式化
  - 章节标题渲染
  - 渐变色强调
- 🔧 **技术实现**
  - async/await异步调用
  - Fetch API
  - JSON数据传输
  - 错误捕获处理

### v3.3.0 (2024-11-18) 🌌 浩瀚星河背景
- 🌠 **多层宇宙背景系统**
  - **5色星云层**：紫/蓝/橙/粉/青 五层径向渐变星云
  - **3层星空**：大星(6颗) + 中星(5颗) + 小星(16颗) 共27颗星星
  - **闪烁动画**：8秒呼吸闪烁 + 120秒缓慢漂移
  - **星云漂移**：40秒旋转+缩放动画，opacity 0.7→1
- ☄️ **流星雨效果**
  - 5颗流星随机划过
  - 2.5-3.5秒不等速度
  - 白色渐变尾迹 + 发光阴影
  - 2-14秒间隔出现
- 🔮 **神秘占卜符号飘浮**
  - **八卦符号**：☰☱☲☳☴☵☶☷ 八个卦象
  - **太极图**：☯ 两个大号太极
  - **星座符号**：♈♉♊♋ 四大星座
  - **神秘符文**：⚝✦✧✵ 魔法符号
  - 25-42秒缓慢上升+旋转360度
- ⭐ **星座连线图**
  - **北斗七星**：7星连线
  - **猎户座**：经典腰带三星
  - **仙后座**：W形状
  - **南十字座**：十字图案
  - **天鹅座**：十字架形
  - 虚线闪烁动画 + 星点脉冲
- 💫 **深空光晕**
  - 3层模糊光晕(紫/橙/蓝)
  - 30秒呼吸动画
  - 40-60px高斯模糊

### v3.2.0 (2024-11-18) 🪙 乾隆通宝 + 交互增强
- 💫 **真实中国古铜钱 - 乾隆通宝**
  - 140×140px超高清SVG
  - 正面：乾隆通宝四字（楷体浮雕）
  - 背面：满文纹饰 + 装饰纹理
  - 4层金属质感渐变
  - 锈迹纹理增加真实感
  - 立体浮雕文字效果
  - 装饰弧线和四角花纹
  - 高光和阴影系统
- ⚡ **革命性交互体验**
  - **可点击铜钱**：鼠标悬浮即可投掷
  - **脉冲发光**：待机状态3秒循环呼吸发光
  - **悬浮效果**：上浮12px + 放大1.12倍 + 5度旋转
  - **亮度增强**：Hover时亮度+15% 饱和度+20%
  - **真实翻转**：1.2秒540度3D翻转动画
  - **庆祝动画**：结果时多段弹跳 + 双层发光
  - **渐变边框**：容器悬浮时琥珀/紫色渐变边框
  - **点击反馈**：Active时下压动画
- 🎭 **动画细节优化**
  - 翻转动画：6段式rotateY + rotateZ组合
  - 结果动画：15% 135%放大 + 旋转摆动
  - 发光动画：径向扩散 + 颜色渐变
  - 弹性缓动：cubic-bezier(0.34, 1.56, 0.64, 1)

### v3.1.0 (2024-11-18) 🔧 优化更新
- 🪙 **精美铜钱SVG升级**
  - 120×120px高清尺寸
  - 金属质感渐变（4层渐变）
  - 浮雕文字效果
  - 立体边缘细节
  - 装饰纹理和高光
  - 康熙通宝正面 / 纹理背面
- 📐 **严格遵循UI规范 - 留白艺术**
  - 卡片内边距：48px（桌面）/ 32px（移动）
  - 铜钱间距：48px（防止拥挤）
  - 铜钱区域：60px上下边距 + 56px内边距
  - 爻线间距：16px（清晰可辨）
  - 卦象显示：60px组件间距 + 56px内边距
  - 所有区域充足呼吸感
- ✨ **视觉层级优化**
  - 标题：32px加大字号
  - 爻线：20px内边距 + 16px字号
  - 卦象爻线：140px宽 + 10px高
  - 箭头：32px醒目尺寸

### v3.0.0 (2024-11-18) 🍎 Apple神秘风格
- 🎨 **全新Apple风格UI设计 - 极简·优雅·神秘**
  - **纯黑背景** `#000000` + 动态渐变光晕效果
  - **Apple配色**：琥珀橙 `#ff9f0a` + 紫色 `#bf5af2` + 粉色 `#ff375f` + 青色 `#5ac8fa`
  - **毛玻璃卡片**：40px模糊 + 180%饱和度增强
  - **20px圆角** 所有控件统一设计语言
  - **SF Pro字体** 系统字体栈，-0.02em紧凑字间距
  - **流畅动画**：0.25s三次贝塞尔曲线 `cubic-bezier(0.4, 0, 0.2, 1)`
  - **彩虹渐变**：标题三色渐变（琥珀→紫→青）
  - **精致阴影**：多层次柔和阴影系统
  - **神秘背景**：三层径向渐变 + 20s呼吸动画
  - **极简导航**：12px圆角 + 渐变激活态
  - 500+行Apple设计规范代码

### v2.0.0 (2024-11-18) 🎉 重大更新
- 🎨 **完全重构UI样式系统 - 参考cctarot.com专业占卜网站**
  - **深色配色方案**：`#0a0e1a` 主背景 + 深蓝黑渐变
  - **金黄色系主题**：`#f7dc6f` (亮黄) + `#f1c40f` (金黄) + `#d4ac0d` (深金)
  - **神秘星空背景**：动态星点漂移 + 多层径向渐变
  - **圆角卡片系统**：24px大圆角 + 毛玻璃模糊
  - **专业导航栏**：圆角容器 + 黄色高亮激活态
  - **统一按钮设计**：16px圆角 + 金黄主按钮 + 深色次按钮
  - **真实铜钱SVG**：100×100px + 3D翻转动画
  - **优雅输入框**：深色背景 + 金黄聚焦边框
  - **简洁进度条**：8px高度 + 金黄渐变填充
  - **专业卦象显示**：金黄阳爻 + 蓝色阴爻
  - 600+行专业样式代码 (`styles-professional.css`)

### v1.4.0 (2024-11-18)
- 🎨 **UI全面重新设计 - 融合顶级塔罗网站风格**
  - 深紫蓝渐变配色方案（参考tarotap.com、cctarot.com）
  - 真实铜钱SVG图片（正面"康熙"、背面纹理）
  - 3D翻转铜钱动画 + 金色发光效果
  - **预设占卜问题功能**（6个常见占卜主题）
    - 💕 感情运势
    - 💼 事业发展
    - 💰 财运决策
    - 🔮 困境化解
    - 👥 人际关系
    - ⏰ 近期运势
  - 优雅毛玻璃卡片（深紫+金玫瑰金）
  - 金-紫-青三色渐变标题
  - 统一视觉语言和配色系统

### v1.3.0 (2024-11-18)
- 🔮 **神秘封面设计 - 参考塔罗牌专业风格**
  - 深紫黑渐变背景 + 噪点纹理
  - 漂浮金色粒子上升动画(10个独立粒子)
  - 巨大太极八卦背景图（呼吸+旋转动画）
  - 五彩渐变流动标题（金→黄→紫→青）
  - 双按钮CTA设计（主按钮渐变+光效扫过）
  - 神秘装饰符号漂浮效果
  - 全屏沉浸式体验
  - 专业占卜网站气质

### v1.2.0 (2024-11-18)
- 🎨 **UI全面升级 - 现代毛玻璃风格**
  - 渐变星空背景（蓝、紫、粉、青多色极光）
  - 闪烁星星动画效果
  - Glassmorphism毛玻璃设计（所有卡片、按钮、面板）
  - 彩虹渐变按钮（金→青→紫三色流动）
  - 3D立体铜钱（内阴影+高光效果）
  - 渐变卦爻线（金青渐变阳爻，蓝紫渐变阴爻）
  - 所有元素添加backdrop-filter模糊效果
  - 流光扫过动画（卡片hover效果）
  - 更大的圆角（16-32px）和柔和阴影

### v1.1.0 (2024-11-18)
- 🎭 **新增仪式感增强功能**
  - 三阶段占卜流程（准备→起卦→解读）
  - 每一爻的专属引导语
  - 铜钱三段式动画（上升→翻转→闪光）
  - 爻线渐入动画和发光效果
  - 进度条完成闪光提示
  - 平滑的场景过渡效果

### v1.0.0 (2024-11-18)
- ✨ 初始版本发布
- ✅ 完整的64卦占卜功能
- ✅ 投币动画效果
- ✅ 收藏和分享功能
- ✅ 响应式设计

## 许可证

本项目仅供学习和个人使用。

## 联系方式

如有问题或建议，欢迎反馈。

---

**易经占卜** - 传承古老智慧，融合现代科技 🌟
